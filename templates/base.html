<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Foxmood</title>

    <!-- Importando a Fonte Plus Jakarta Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMD/CDQz6ESV6/P79qDydo5YjWkK9p5/T6Bw3t/35p3D6uK1OQ2h8t2a/l3i6GqQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="../static/js/flashmessages.js" defer></script>
    <script src="../static/js/postconfig.js" defer></script>
    <script src="../static/js/curtidas.js" defer></script>
    <script src="../static/js/senha.js"></script>
    <script src="../static/js/dashboard.js"></script>
    <script src="../static/js/login_cadastro.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Configuração do Tema e Animação -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'cor-principal': '#080D26',
                        'cor-secundaria': '#FF3460',
                        'cor-post': '#FFFFFF',
                        'cor-fundo': '#F9F9F9',
                        'cor-borda': 'rgba(240, 240, 240, 0.9)',
                        'cor-texto-principal': '#333333',
                        'cor-texto-secundaria': '#6B7280',
                        'cor-texto-header': '#efefef',
                        'hover-cor-secundaria': '#ff0037',
                        'azul-ceu': '#A0E2FF',
                        'azul-lavanda': '#99B9F0',
                        'azul-purpura': '#6C6CEF',
                    },
                    fontFamily: {
                        'sans': ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    keyframes: {
                        'fade-in-down': {
                            '0%': {
                                opacity: '0',
                                transform: 'translateY(-10px)'
                            },
                            '100%': {
                                opacity: '1',
                                transform: 'translateY(0)'
                            },
                        }
                    },
                    animation: {
                        'fade-in-down': 'fade-in-down 0.3s ease-out',
                    }
                }
            }
        }
    </script>

    <link rel="shortcut icon" type="imagex/png" href="../static/img/logo.png">

    <!-- Estilos globais -->
    <style type="text/tailwindcss">
        @layer utilities {
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
        }
        
        @layer components {
            /* Botão Padrão Desktop */
            .btn-nav {
                @apply text-cor-texto-header px-4 py-2 border-2 border-cor-texto-header rounded-lg font-semibold transition-all duration-300 hover:bg-cor-texto-header hover:text-cor-principal no-underline text-center whitespace-nowrap;
            }

            /* Botão Menor para Mobile (Barra Superior) */
            .btn-nav-mobile-sm {
                @apply text-cor-texto-header text-sm font-bold px-3 py-1 border border-cor-texto-header rounded-md transition-all duration-300 hover:bg-cor-texto-header hover:text-cor-principal no-underline;
            }
            
            .card-post {
                @apply w-[95%] md:w-[90%] min-h-[200px] bg-cor-post rounded-[10px] border-2 border-cor-borda mb-2 transition-colors duration-300 shadow-sm;
            }
        }
    </style>
</head>

<body
    class="font-sans min-h-screen flex flex-col bg-cor-fundo text-cor-texto-principal transition-colors duration-300 select-none scrollbar-hide">

    <!-- HEADER -->
    <header
        class="bg-cor-principal text-cor-texto-header flex flex-wrap justify-between items-center py-4 px-4 md:px-[5%] shadow-md transition-colors duration-300 z-50 relative">

        <!-- 1. LOGO -->
        <div class="flex justify-start items-center gap-2">
            <a href="/" class="flex flex-row items-center justify-center no-underline text-cor-texto-header group">
                <img src="../static/img/logo.png" alt="Logo do Blog"
                    class="w-[40px] md:w-[50px] h-auto mr-2 group-hover:opacity-90 transition-opacity">
                <h1 class="text-[1.5em] md:text-[1.8em] font-bold">Foxmood</h1>
            </a>
        </div>

        <!-- 2. CONTROLES MOBILE (Lado Direito: Botão Entrar + Hambúrguer) -->
        <div class="flex items-center gap-3 md:hidden">
            <!-- Botão ENTRAR (Visível apenas no mobile se NÃO estiver logado) -->
            {% if 'user' not in session and 'admin' not in session %}
            <a href="/login" class="btn-nav-mobile-sm">ENTRAR</a>
            {% endif %}

            <!-- Botão do Menu Hambúrguer -->
            <button id="mobile-menu-btn" class="text-cor-texto-header focus:outline-none text-2xl px-2">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>

        <!-- 3. NAV DESKTOP E MENU EXPANSÍVEL MOBILE -->
        <!-- No mobile: width 100%, hidden por padrão, order-last para cair para a próxima linha -->
        <!-- No desktop: width auto, flex, items center -->
        <div id="nav-content" class="hidden w-full md:flex md:w-auto md:items-center order-last md:order-none mt-4 md:mt-0">
            <nav class="flex flex-col md:flex-row gap-4 w-full md:w-auto">
                
                <!-- Links Comuns -->
                {% if 'user' in session or 'admin' in session %}
                    {% if request.path != '/' %}
                    <a href="/" class="btn-nav w-full md:w-auto text-center">HOME</a>
                    {% endif %}
                    
                    {% if 'admin' in session and request.path == '/' %}
                    <a href="/dashboard" class="btn-nav w-full md:w-auto text-center">ÁREA ADM</a>
                    {% endif %}

                    <!-- PERFIL (Desktop e Mobile Logado) -->
                    <div class="relative w-full md:w-auto flex flex-col md:block items-center">
                        <!-- Trigger Dropdown Desktop / Lista Mobile -->
                        <div class="md:hidden w-full flex flex-col gap-2">
                            <!-- Header Mobile do Usuário -->
                            <div class="flex items-center justify-center gap-2 py-2 border-b border-gray-700 mb-2">
                                {% if 'user' in session %}
                                <img src="../static/uploads/{{session['foto']}}" alt="Avatar" class="h-8 w-8 rounded-full object-cover">
                                <span class="font-bold">{{session['user']}}</span>
                                {% endif %}
                            </div>
                            <!-- Opções Mobile -->
                             {% if 'user' in session %}
                            <a href="/perfil" class="btn-nav w-full text-center">Editar Perfil</a>
                            {% endif %}
                            <a href="/logout" class="btn-nav w-full text-center bg-red-600 border-red-600 hover:bg-red-700">Sair</a>
                        </div>

                        <!-- Dropdown Apenas Desktop -->
                        <div class="hidden md:block relative">
                            <button onclick="toggleProfileMenu()" class="flex items-center focus:outline-none transition-transform active:scale-95">
                                {% if 'user' in session %}
                                <img src="../static/uploads/{{session['foto']}}" alt="Avatar"
                                    class="h-12 w-12 rounded-full object-cover border-2 border-cor-borda hover:border-cor-secundaria transition-colors">
                                <p class="ml-2">{{session['user']}}</p>
                                {% endif %}
                                {% if 'admin' in session and 'user' not in session %}
                                 <span class="font-bold mr-2">Admin</span>
                                {% endif %}
                            </button>
                             <!-- Dropdown Menu Desktop -->
                            <div id="profileDropdown" class="hidden absolute right-0 top-14 bg-cor-post border border-cor-borda min-w-[180px] shadow-lg rounded-md z-50 overflow-hidden animate-fade-in-down flex flex-col">
                                {% if 'user' in session %}
                                <a href="/perfil" class="block px-4 py-3 text-sm text-cor-texto-principal hover:bg-cor-fundo transition-colors border-b border-cor-borda text-left no-underline">
                                    <i class="fa-solid fa-user-pen mr-2 text-azul-purpura"></i> Editar Perfil
                                </a>
                                {%endif%}
                                <a href="/logout" class="block px-4 py-3 text-sm text-red-500 hover:bg-red-50 transition-colors text-left no-underline">
                                    <i class="fa-solid fa-right-from-bracket mr-2"></i> Sair
                                </a>
                            </div>
                        </div>
                    </div>

                {% else %}
                    <!-- Opções para quem NÃO está logado -->
                    <!-- Botão Entrar Desktop (No mobile já está no header) -->
                    <a href="/login" class="hidden md:inline-block btn-nav text-center">ENTRAR</a>
                    
                    <!-- Botão Cadastro (Desktop e Mobile Menu) -->
                    <a href="/cadastro" class="btn-nav w-full md:w-auto text-center">COMECE AGORA</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <!-- MAIN -->
    <main class="flex-1 min-h-[80vh] w-full overflow-x-hidden">
        {% block conteudo %}{% endblock %}
    </main>

    <!-- FOOTER -->
    <footer
        class="min-h-[10vh] bg-cor-principal text-cor-texto-header flex flex-col items-center py-5 transition-colors duration-300">

        <!-- Mídias Sociais -->
        <section class="flex flex-wrap justify-center md:justify-between items-center w-[90%] max-w-[1200px] py-5 gap-6">
            <div class="flex items-center justify-center md:justify-start flex-1 min-w-[250px] text-center md:text-left">
                <h2 class="text-lg md:text-xl m-0 text-cor-texto-header font-semibold">Fique conectado(a) em nossas redes sociais!</h2>
            </div>

            <div class="flex justify-center md:justify-end items-center gap-6 text-[24px] md:text-[28px] flex-1 min-w-[200px]">
                <a href="https://github.com/Lorena-Rinaldo" target="_blank" rel="noopener noreferrer"
                    class="text-cor-texto-header transition-all duration-300 hover:scale-115 hover:text-white">
                    <i class="fab fa-github"></i>
                </a>

                <a href="https://www.linkedin.com/in/lorena-rinaldo01" target="_blank" rel="noopener noreferrer"
                    class="text-cor-texto-header transition-all duration-300 hover:scale-115 hover:text-[#0A66C2]">
                    <i class="fab fa-linkedin-in"></i>
                </a>

                <a href="#"
                    class="text-cor-texto-header transition-all duration-300 hover:scale-115 hover:text-[#25D366]">
                    <i class="fab fa-whatsapp"></i>
                </a>

                <a href="#"
                    class="text-cor-texto-header transition-all duration-300 hover:scale-115 hover:text-transparent hover:bg-clip-text hover:bg-[radial-gradient(circle_at_30%_107%,#fdf497_0%,#fdf497_5%,#fd5949_45%,#d6249f_60%,#285AEB_90%)]">
                    <i class="fab fa-instagram"></i>
                </a>

                <a href="#"
                    class="text-cor-texto-header transition-all duration-300 hover:scale-115 hover:text-[#FF0000]">
                    <i class="fab fa-youtube"></i>
                </a>
            </div>
        </section>

        <hr class="w-[90%] md:w-full h-px border-none my-5 bg-cor-fundo opacity-20">

        <!-- Informações -->
        <section class="flex flex-wrap justify-between w-[90%] max-w-[1200px] mb-8 gap-8 md:gap-5">
            <!-- Bloco Empresa -->
            <div class="flex-1 min-w-[140px] md:min-w-[180px] p-2 text-center md:text-left">
                <h3 class="text-lg mb-4 text-cor-texto-header font-bold">Empresa</h3>
                <hr class="w-[50px] mb-4 border-none h-[2px] bg-cor-secundaria mx-auto md:mx-0">
                <div class="flex flex-col gap-1">
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Sobre Nós</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Nossa Missão</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Valores</a>
                </div>
            </div>

            <!-- Bloco Produtos -->
            <div class="flex-1 min-w-[140px] md:min-w-[180px] p-2 text-center md:text-left">
                <h3 class="text-lg mb-4 text-cor-texto-header font-bold">Produtos</h3>
                <hr class="w-[50px] mb-4 border-none h-[2px] bg-cor-secundaria mx-auto md:mx-0">
                <div class="flex flex-col gap-1">
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Visão Geral</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Recursos</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Integração</a>
                </div>
            </div>

            <!-- Bloco Links Úteis -->
            <div class="flex-1 min-w-[140px] md:min-w-[180px] p-2 text-center md:text-left">
                <h3 class="text-lg mb-4 text-cor-texto-header font-bold">Links Úteis</h3>
                <hr class="w-[50px] mb-4 border-none h-[2px] bg-cor-secundaria mx-auto md:mx-0">
                <div class="flex flex-col gap-1">
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Privacidade</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Termos</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">FAQ</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Suporte</a>
                </div>
            </div>

            <!-- Bloco Contato -->
            <div class="flex-1 min-w-[140px] md:min-w-[180px] p-2 text-center md:text-left">
                <h3 class="text-lg mb-4 text-cor-texto-header font-bold">Contato</h3>
                <hr class="w-[50px] mb-4 border-none h-[2px] bg-cor-secundaria mx-auto md:mx-0">
                <div class="flex flex-col gap-1">
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Fale Conosco</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Suporte Técnico</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Localização</a>
                    <a href="#" class="text-cor-post text-[15px] block mb-1 hover:text-cor-secundaria hover:underline">Horário</a>
                </div>
            </div>
        </section>

        <hr class="w-[90%] md:w-full h-px border-none my-5 bg-cor-fundo opacity-20">

        <section class="w-[90%] max-w-[1200px] text-center py-2 text-sm text-cor-texto-header">
            ©2025 - Lorena Rinaldo
        </section>
    </footer>

    <!-- SCRIPT PARA O MENU MOBILE E DROPDOWN -->
    <script>
        // Função do Toggle de Perfil (Desktop)
        function toggleProfileMenu() {
            const menu = document.getElementById('profileDropdown');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
            } else {
                menu.classList.add('hidden');
            }
        }

        // Lógica do Menu Mobile
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const navContent = document.getElementById('nav-content');

        if(mobileBtn && navContent) {
            mobileBtn.addEventListener('click', () => {
                navContent.classList.toggle('hidden');
            });
        }

        // Fecha menus ao clicar fora
        window.addEventListener('click', function (e) {
            // Dropdown Perfil Desktop
            const profileMenu = document.getElementById('profileDropdown');
            const profileBtn = document.querySelector('button[onclick="toggleProfileMenu()"]');

            if (profileMenu && profileBtn) {
                if (!profileMenu.classList.contains('hidden') && !profileMenu.contains(e.target) && !profileBtn.contains(e.target)) {
                    profileMenu.classList.add('hidden');
                }
            }
        });
    </script>

    {% block scripts %}{% endblock %}
</body>

</html>
